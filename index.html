<model-viewer
  id="mv"
  src="./model3.glb"
  alt="3D model"
  camera-controls
  camera-orbit="0deg 90deg auto"          <!-- start straight-on -->
  min-camera-orbit="auto 88deg auto"       <!-- clamp near straight-on -->
  max-camera-orbit="auto 96deg auto"
  interaction-prompt="none"
  shadow-intensity="1"
  poster="./poster.png"
  ar
  ar-modes="webxr scene-viewer quick-look">
</model-viewer>

<script type="module">
  const mv = document.getElementById('mv');

  // subtle motion
  const bobAmpDeg  = 3;     // 0..3Â° above horizon only
  const bobHz      = 0.20;  // bob speed
  const yawSwayDeg = 4;     // tiny left/right sway (no full spin)
  const yawHz      = 0.07;

  mv.addEventListener('load', () => {
    const orbit0 = mv.getCameraOrbit();
    const theta0 = orbit0.theta;
    let { radius } = orbit0;
    const baseTiltDeg = 90; // straight-on

    function frame(now){
      const t = now / 1000;

      // left-right sway around front
      const theta = theta0 + (yawSwayDeg * Math.PI/180) * Math.sin(2*Math.PI*yawHz*t);

      // UP-ONLY bob: 90..(90 + bobAmpDeg)
      const phiDeg = baseTiltDeg + bobAmpDeg * (0.5 + 0.5 * Math.sin(2*Math.PI*bobHz*t));
      const phi    = phiDeg * Math.PI/180;

      mv.cameraOrbit = `${theta}rad ${phi}rad ${radius}m`;
      requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
  });
</script>
