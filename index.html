<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>3D Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      html, body { height: 100%; margin: 0; }
      model-viewer {
        width: 100%;
        height: 100vh;
        --interaction-prompt-display: none; /* hide hand/arrow hint */
      }
      /* Optional UI trims */
      model-viewer::part(default-progress-bar){ display:none; }
      /* model-viewer::part(default-ar-button){ display:none; } */
    </style>
  </head>
  <body>
    <!-- If your model faces sideways, you can rotate it here by 90° on Y:
         orientation="0deg 90deg 0deg"  (add to the tag below) -->
    <model-viewer
      id="mv"
      src="./model3.glb"
      alt="3D model"
      camera-controls
      camera-orbit="0deg 90deg auto"   <!-- start straight-on -->
      interaction-prompt="none"
      shadow-intensity="1"
      poster="./poster.png"
      ar
      ar-modes="webxr scene-viewer quick-look">
    </model-viewer>

    <script type="module">
      const mv = document.getElementById('mv');

      // ---- Motion knobs ----
      const spinDegPerSec = 12;  // gentle sway/spin; set 0 for no yaw motion
      const bobAmpDeg     = 3;   // how far above 90° it lifts (0..3°)
      const bobHz         = 0.20;
      const baseTiltDeg   = 90;  // straight-on

      mv.addEventListener('load', () => {
        let last = performance.now();
        let { theta, radius } = mv.getCameraOrbit();

        function frame(now) {
          const dt = (now - last) / 1000;
          last = now;

          // optional gentle spin (keeps the S readable)
          theta += (spinDegPerSec * Math.PI / 180) * dt;

          // UP-ONLY bob: 90 - bobAmp .. 90
          const phase  = 2 * Math.PI * bobHz * (now / 1000);
          const phiDeg = baseTiltDeg - bobAmpDeg * (0.5 + 0.5 * Math.sin(phase));
          const phi    = phiDeg * Math.PI / 180;

          mv.cameraOrbit = `${theta}rad ${phi}rad ${radius}m`;
          requestAnimationFrame(frame);
        }

        requestAnimationFrame(frame);
      });
    </script>
  </body>
</html>
