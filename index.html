<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>3D Viewer</title>

  <!-- Pinned version -->
  <script type="module" src="https://unpkg.com/@google/model-viewer@3.4.0/dist/model-viewer.min.js"></script>

  <style>
    html, body { margin: 0; }
    model-viewer {
      width: 100%;
      /* robust mobile height */
      height: 100dvh;   /* modern */
      height: 100svh;   /* Safari */
      height: 100vh;    /* fallback */
      display: block;

      /* Hide AR UI & interaction hints */
      --ar-button-display: none;
      --interaction-prompt-display: none;

      touch-action: pan-y;
    }
    model-viewer::part(default-progress-bar){ display:none; }
  </style>
</head>
<body>
  <model-viewer
    id="mv"
    src="./LOGOS.glb"
    alt="3D model"
    camera-controls
    shadow-intensity="1"
    reveal="auto"
    loading="eager"
    crossorigin="anonymous">
    <!-- AR deliberately NOT included -->
  </model-viewer>

  <script type="module">
    const mv = document.getElementById('mv');

    // Animation knobs
    const spinDegPerSec = 20;
    const bobAmpDeg     = 2;
    const bobHz         = 0.20;
    const baseTiltDeg   = 70;

    mv.addEventListener('load', () => {
      let last = performance.now();
      let { theta, radius } = mv.getCameraOrbit();

      function frame(now) {
        const dt = (now - last) / 1000; last = now;
        theta += (spinDegPerSec * Math.PI / 180) * dt;

        const phase  = 2 * Math.PI * bobHz * (now / 1000);
        const phiDeg = baseTiltDeg - bobAmpDeg * (0.5 + 0.5 * Math.sin(phase));
        const phi    = phiDeg * Math.PI / 180;

        mv.cameraOrbit = `${theta}rad ${phi}rad ${radius}m`;
        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);
    });
  </script>
</body>
</html>
