<script type="module">
  const mv = document.getElementById('mv');

  // Motion knobs
  const baseTiltDeg   = 90;   // straight-on
  const bobAmpDeg     = 3;    // how far above 90° it lifts
  const bobHz         = 0.20; // bob speed
  const spinDegPerSec = 6;    // slow spin (≈60s per full turn). Set to 0 to disable.

  mv.addEventListener('load', () => {
    // ensure we start front-on; keep current distance
    mv.cameraOrbit = `0deg ${baseTiltDeg}deg auto`;
    let { theta, radius } = mv.getCameraOrbit();
    let last = performance.now();

    function frame(now){
      const dt = (now - last) / 1000; last = now;

      // continuous slow spin
      theta += (spinDegPerSec * Math.PI/180) * dt;

      // UP-ONLY bob: stays between (90° - bobAmp) and 90°
      const t = now / 1000;
      const phiDeg = baseTiltDeg - bobAmpDeg * (0.5 + 0.5 * Math.sin(2*Math.PI*bobHz*t));
      const phi    = phiDeg * Math.PI/180;

      mv.cameraOrbit = `${theta}rad ${phi}rad ${radius}m`;
      requestAnimationFrame(frame);
    }
    requestAnimationFrame(frame);
  });
</script>
