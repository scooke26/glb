<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>3D Viewer</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <style>
      html, body { height: 100%; margin: 0; }
      model-viewer {
        width: 100%;
        height: 100vh;
        --interaction-prompt-display: none;
      }
      /* Optional UI trims */
      model-viewer::part(default-progress-bar){ display:none; }
      /* model-viewer::part(default-ar-button){ display:none; } */
    </style>
  </head>
  <body>
    <model-viewer
      id="mv"
      src="./model3.glb"
      alt="3D model"
      interaction-prompt="none"
      shadow-intensity="1"
      poster="./poster.png"
      ar
      ar-modes="webxr scene-viewer quick-look">
    </model-viewer>

    <script type="module">
      const mv = document.getElementById('mv');

      // Motion knobs (no user controls)
      const baseTiltDeg = 90;  // straight-on
      const bobAmpDeg   = 2;   // up-only amount (reduce if it ever obscures the S)
      const bobHz       = 0.20;
      const yawSwayDeg  = 0;   // 0 = no left/right motion; set to 3-4 for tiny sway
      const yawHz       = 0.07;

      mv.addEventListener('load', () => {
        // start straight-on; keep current distance
        mv.cameraOrbit = `0deg ${baseTiltDeg}deg auto`;
        let { theta, radius } = mv.getCameraOrbit();

        function frame(now){
          const t = now / 1000;

          // optional tiny yaw sway (kept at 0 by default)
          const thetaNow = theta + (yawSwayDeg * Math.PI/180) * Math.sin(2*Math.PI*yawHz*t);

          // UP-ONLY bob: stays between (90° - bobAmp) and 90°
          const phiDeg = baseTiltDeg - bobAmpDeg * (0.5 + 0.5 * Math.sin(2*Math.PI*bobHz*t));
          const phi    = phiDeg * Math.PI/180;

          mv.cameraOrbit = `${thetaNow}rad ${phi}rad ${radius}m`;
          requestAnimationFrame(frame);
        }
        requestAnimationFrame(frame);
      });
    </script>
  </body>
</html>
